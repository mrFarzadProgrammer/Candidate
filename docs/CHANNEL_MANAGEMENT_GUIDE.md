# ๐ข ุณุณุชู ูุฏุฑุช ฺฉุงูุงู ู ุฒูุงูโุจูุฏ ูพุณุช - ุฑุงูููุง ฺฉุงูู

## ๐ฏ ูฺฏุงู ฺฉู

ุณุณุชู ุฌุงูุน ูุฏุฑุช ฺฉุงูุงูโูุง ู ฺฏุฑููโูุง ุชูฺฏุฑุงู ุจุง ูุงุจูุช ุฒูุงูโุจูุฏ ู ุงุฑุณุงู ุฎูุฏฺฉุงุฑ ูพุณุชโูุง.

---

## โ ูฺฺฏโูุง ูพุงุฏูโุณุงุฒ ุดุฏู

### 1. Database Models
- โ `BotChannel` - ูุฏุฑุช ฺฉุงูุงูโูุง ู ฺฏุฑููโูุง
- โ `ScheduledPost` - ูพุณุชโูุง ุฒูุงูโุจูุฏ ุดุฏู
- โ `ChannelStats` - ุขูุงุฑ ุฑูุฒุงูู ฺฉุงูุงู

### 2. UI ุตูุญุงุช
- โ `/channels` - ูุณุช ฺฉุงูุงูโูุง ูุชุตู
- โ `/channels/add` - ุงูุฒูุฏู ฺฉุงูุงู ุฌุฏุฏ
- โ `/channels/<id>/schedule` - ุฒูุงูโุจูุฏ ูพุณุช
- โ `/posts/scheduled` - ูุดุงูุฏู ูพุณุชโูุง ุฒูุงูโุจูุฏ ุดุฏู
- โ `/channels/<id>/stats` - ุขูุงุฑ ฺฉุงูุงู

### 3. Post Scheduler Engine
- โ ุงุฑุณุงู ุฎูุฏฺฉุงุฑ ูพุณุชโูุง
- โ Retry mechanism (3 ุจุงุฑ ุชูุงุด)
- โ Error handling ฺฉุงูู
- โ Support ุงููุงุน ุฑุณุงูู (text, photo, video, document)
- โ Pin message capability
- โ Logging ูพุดุฑูุชู

---

## ๐ ูุญูู ุงุณุชูุงุฏู

### ูุฑุญูู 1: ุงูุฒูุฏู ฺฉุงูุงู

```
1. ูุฑูุฏ ุจู ูพูู ฺฉุงูุฏุฏุง
2. ฺฉูฺฉ ุฑู "ฺฉุงูุงูโูุง ู ฺฏุฑููโูุง"
3. ฺฉูฺฉ "ุงูุฒูุฏู ฺฉุงูุงู ุฌุฏุฏ"
4. ูุงุฑุฏ ฺฉุฑุฏู ุงุทูุงุนุงุช:
   - ุขุฏ ฺฉุงูุงู: -1001234567890
   - ูุงู ฺฉุงูุงู: ฺฉุงูุงู ุงูุชุฎุงุจุงุช ูู
   - ูุงู ฺฉุงุฑุจุฑ (ุงุฎุชุงุฑ): my_campaign
   - ููุน: ฺฉุงูุงู ุง ฺฏุฑูู
5. ฺฉูฺฉ "ุงูุฒูุฏู ฺฉุงูุงู"
```

**โ๏ธ ูฺฉุงุช ููู:**
- ุจุงุช ุจุงุฏ ุจู ุนููุงู **ุงุฏูู** ุจู ฺฉุงูุงู ุงุถุงูู ุดูุฏ
- ุจุงุช ุจุงุฏ ูุฌูุฒ **ุงุฑุณุงู ูพุงู** ุฏุงุดุชู ุจุงุดุฏ
- ุจุฑุง ุฏุฑุงูุช ุขุฏ ฺฉุงูุงู: `/getid` ุฑุง ุฏุฑ ฺฉุงูุงู ุงุฑุณุงู ฺฉูุฏ

### ูุฑุญูู 2: ุฒูุงูโุจูุฏ ูพุณุช

```
1. ุฏุฑ ูุณุช ฺฉุงูุงูโูุงุ ฺฉูฺฉ "ูพุณุช ุฌุฏุฏ"
2. ููุดุชู ูุชู ูพุณุช (ุญุฏุงฺฉุซุฑ 4096 ฺฉุงุฑุงฺฉุชุฑ)
3. ุงูุชุฎุงุจ ููุน ุฑุณุงูู (ููุท ูุชูุ ุนฺฉุณุ ูุฏูุ ูุงู)
4. ุงูุชุฎุงุจ ุฒูุงู ุงุฑุณุงู
5. ฺฉูฺฉ "ุฒูุงูโุจูุฏ ูพุณุช"
```

**โจ ูุงุจูุชโูุง:**
- ูพุดโููุงุด ูุญุธูโุง
- ุดูุงุฑูุฏู ฺฉุงุฑุงฺฉุชุฑ
- Support Emoji
- ุงูุชุฎุงุจ ููุน ุฑุณุงูู

### ูุฑุญูู 3: ูุฏุฑุช ูพุณุชโูุง

```
1. ูุดุงูุฏู ูุณุช: "ูพุณุชโูุง ุฒูุงูโุจูุฏ"
2. ููุชุฑ ุจุฑ ุงุณุงุณ ูุถุนุช:
   - ููู
   - ุฏุฑ ุงูุชุธุงุฑ
   - ุงุฑุณุงู ุดุฏู
   - ูุงูููู
3. ูุบู ูพุณุชโูุง pending
4. ุญุฐู ูพุณุชโูุง
```

### ูุฑุญูู 4: ูุดุงูุฏู ุขูุงุฑ

```
1. ุฏุฑ ฺฉุงุฑุช ฺฉุงูุงูุ ฺฉูฺฉ "ุขูุงุฑ"
2. ูุดุงูุฏู:
   - ุชุนุฏุงุฏ ุงุนุถุง
   - ุชุนุฏุงุฏ ูพุณุชโูุง ุงุฑุณุงู ุดุฏู
   - ูพุณุชโูุง ุฏุฑ ุตู
   - ูููุฏุงุฑ ุฑุดุฏ ุงุนุถุง (7 ุฑูุฒ)
   - ุขุฎุฑู ูพุณุชโูุง
```

---

## โ๏ธ ุฑุงูโุงูุฏุงุฒ Post Scheduler

### ุฑูุด 1: ุงุฌุฑุง ูุณุชูู

```bash
cd C:\Workspace\candidate
python bot_engine/post_scheduler.py
```

### ุฑูุด 2: Background Service

```python
from bot_engine.post_scheduler import start_scheduler

# ุฏุฑ ูุงู ุงุตู
start_scheduler()
```

### ูุงฺฏโูุง

```
๐ ูุณุฑ: post_scheduler.log

ููููู ูุงฺฏ:
2024-11-12 10:30:00 - INFO - ๐ฌ 2 ูพุณุช ุจุฑุง ุงุฑุณุงู ุงูุช ุดุฏ
2024-11-12 10:30:01 - INFO - โ ูพุณุช 123 ุจุง ููููุช ุจู ฺฉุงูุงู ุชุณุช ุงุฑุณุงู ุดุฏ
2024-11-12 10:30:02 - ERROR - โ ุฎุทุง ุฏุฑ ุงุฑุณุงู ูพุณุช 124: Bot not admin
```

---

## ๐ ูุญุฏูุฏุชโูุง ูพูู

| ูพูู | ุชุนุฏุงุฏ ฺฉุงูุงู ูุฌุงุฒ |
|-----|-----------------|
| BASIC | 1 ฺฉุงูุงู |
| PROFESSIONAL | 3 ฺฉุงูุงู |
| GOLD | 10 ฺฉุงูุงู |

---

## ๐ง ุชูุธูุงุช Scheduler

```python
# ุฏุฑ post_scheduler.py

# ุจุฑุฑุณ ูพุณุชโูุง ูุฑ 1 ุฏููู
schedule.every(1).minutes.do(check_and_send_posts)

# ูพุงฺฉุณุงุฒ ูพุณุชโูุง ูุฏู ูุฑ 1 ุฑูุฒ
schedule.every(1).days.do(cleanup_old_posts)

# ุชุนุฏุงุฏ retry ุจุฑุง ูพุณุชโูุง ูุงูููู
MAX_RETRY = 3

# ูุงุตูู ุจู retry ูุง
RETRY_DELAY = 5  # ุฏููู

# ุญุฐู ูพุณุชโูุง ูุฏูโุชุฑ ุงุฒ
CLEANUP_DAYS = 30  # ุฑูุฒ
```

---

## ๐ก API ุชูฺฏุฑุงู

### ุงุฑุณุงู ูุชู ุณุงุฏู

```python
POST https://api.telegram.org/bot<TOKEN>/sendMessage
{
    "chat_id": -1001234567890,
    "text": "ูุชู ูพุงู",
    "parse_mode": "HTML"
}
```

### ุงุฑุณุงู ุนฺฉุณ

```python
POST https://api.telegram.org/bot<TOKEN>/sendPhoto
{
    "chat_id": -1001234567890,
    "photo": "https://example.com/image.jpg",
    "caption": "ุชูุถุญุงุช ุนฺฉุณ"
}
```

### ูพู ฺฉุฑุฏู ูพุงู

```python
POST https://api.telegram.org/bot<TOKEN>/pinChatMessage
{
    "chat_id": -1001234567890,
    "message_id": 12345,
    "disable_notification": true
}
```

---

## ๐ ุฑูุน ูุดฺฉูุงุช

### ูุดฺฉู 1: ุจุงุช ููโุชูุงูุฏ ูพุณุช ุงุฑุณุงู ฺฉูุฏ

```
ุฎุทุง: "Chat not found"

ุฑุงูโุญู:
1. ุจุฑุฑุณ ฺฉูุฏ ุจุงุช ุจู ฺฉุงูุงู ุงุถุงูู ุดุฏู
2. ุขุฏ ฺฉุงูุงู ุฑุง ฺฺฉ ฺฉูุฏ (ุจุงุฏ ุจุง - ุดุฑูุน ุดูุฏ)
3. ุจุงุช ุฑุง remove ู ุฏูุจุงุฑู add ฺฉูุฏ
```

### ูุดฺฉู 2: ุจุงุช ุงุฏูู ูุณุช

```
ุฎุทุง: "Bot is not administrator"

ุฑุงูโุญู:
1. ุจุงุช ุฑุง ุจู ุนููุงู ุงุฏูู ฺฉุงูุงู ุงุถุงูู ฺฉูุฏ
2. ูุฌูุฒ "Post Messages" ุฑุง ูุนุงู ฺฉูุฏ
3. ุฏุฑ BotChannel: is_admin = True
```

### ูุดฺฉู 3: ูพุณุชโูุง ุงุฑุณุงู ููโุดููุฏ

```
ุจุฑุฑุณ:
1. Post Scheduler ุฏุฑ ุญุงู ุงุฌุฑุงุณุชุ
   python bot_engine/post_scheduler.py

2. ุฒูุงู ุณุฑูุฑ ุตุญุญ ุงุณุชุ
   scheduled_time ุจุงุฏ UTC ุจุงุดุฏ

3. ูุถุนุช ูพุณุช pending ุงุณุชุ
   SELECT * FROM scheduled_posts WHERE status='pending'

4. ูุงฺฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
   tail -f post_scheduler.log
```

### ูุดฺฉู 4: ุฎุทุง Rate Limit

```
ุฎุทุง: "Too Many Requests: retry after X"

ุฑุงูโุญู:
- ุชูฺฏุฑุงู ูุญุฏูุฏุช ุฏุงุฑุฏ: 30 ูพุงู ุฏุฑ ุซุงูู
- Scheduler ุฎูุฏฺฉุงุฑ retry ูโฺฉูุฏ
- ูุงุตูู ุจู ูพุณุชโูุง ุฑุง ุจุดุชุฑ ฺฉูุฏ
```

---

## ๐ ุจูููโุณุงุฒ

### 1. ุจูุชุฑู ุฒูุงู ุงุฑุณุงู

```
๐ ุตุจุญ: 8:00 - 10:00 (engagement ุจุงูุง)
๐ ุธูุฑ: 12:00 - 14:00 (ููุช ุงุณุชุฑุงุญุช)
๐ ุดุจ: 19:00 - 22:00 (ูพฺฉ ุงุณุชูุงุฏู)

โ ุงุฌุชูุงุจ: 1:00 - 7:00 (ฺฉูุชุฑู engagement)
```

### 2. ุทูู ููุงุณุจ ูพุณุช

```
โ ฺฉูุชุงู: 100-300 ฺฉุงุฑุงฺฉุชุฑ (ุจุดุชุฑู engagement)
โ๏ธ ูุชูุณุท: 300-800 ฺฉุงุฑุงฺฉุชุฑ (ุฎูุจ)
โ ุจููุฏ: 800+ ฺฉุงุฑุงฺฉุชุฑ (ฺฉูุชุฑู engagement)

๐ก ูฺฉุชู: ุงุฒ Emoji ุงุณุชูุงุฏู ฺฉูุฏ (ุชุง 30% ุงูุฒุงุด engagement)
```

### 3. ูุฑฺฉุงูุณ ูพุณุช

```
ูพูู BASIC: 1-2 ูพุณุช ุฏุฑ ุฑูุฒ
ูพูู PROFESSIONAL: 3-5 ูพุณุช ุฏุฑ ุฑูุฒ
ูพูู GOLD: 5-10 ูพุณุช ุฏุฑ ุฑูุฒ

โ๏ธ ุจุด ุงุฒ ุญุฏ spam ูฺฉูุฏ!
```

---

## ๐ ุงููุช

### 1. ูุญุงูุธุช ุงุฒ Bot Token

```python
# โ ุฏุฑุณุช
BOT_TOKEN = os.getenv('BOT_TOKEN')

# โ ุบูุท
BOT_TOKEN = "123456:ABC-DEF..."  # Never hardcode!
```

### 2. Validation ูุฑูุฏ

```python
# Check ฺฉุฑุฏู ูุญุชูุง ูพุณุช
if len(content) > 4096:
    raise ValueError("ูพุณุช ุฎู ุจููุฏ ุงุณุช")

# Sanitize ฺฉุฑุฏู HTML
import html
safe_content = html.escape(content)
```

### 3. Rate Limiting

```python
# ูุญุฏูุฏ ฺฉุฑุฏู ุชุนุฏุงุฏ ูพุณุช ุฏุฑ ุณุงุนุช
MAX_POSTS_PER_HOUR = 30

if hourly_posts >= MAX_POSTS_PER_HOUR:
    raise Exception("ูุญุฏูุฏุช ุณุงุนุช")
```

---

## ๐ To-Do (ุขูุฏู)

### ูุงุฒ 3: ูฺฺฏโูุง ูพุดุฑูุชู

- [ ] **Upload Media**: ุขูพููุฏ ูุณุชูู ุนฺฉุณ/ูุฏู
- [ ] **Media Library**: ฺฉุชุงุจุฎุงูู ุฑุณุงูู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ
- [ ] **Post Templates**: ูุงูุจโูุง ุขูุงุฏู ูพุณุช
- [ ] **Bulk Posting**: ุงุฑุณุงู ุฏุณุชูโุฌูุน ุจู ฺูุฏ ฺฉุงูุงู
- [ ] **Post Preview**: ูพุดโููุงุด ุฏูู ุจุง ุฑูุฏุฑ ุชูฺฏุฑุงู
- [ ] **Auto-Moderation**: ููุชุฑ ฺฉููุงุชุ ุถุฏ ุงุณูพู
- [ ] **Member Management**: ูุฏุฑุช ุงุนุถุง ฺฏุฑูู
- [ ] **Poll Creator**: ุณุงุฎุช ูุธุฑุณูุฌ
- [ ] **Analytics Dashboard**: ุขูุงุฑ ูพุดุฑูุชู engagement
- [ ] **Notification System**: ุงุทูุงุนโุฑุณุงู ูพุณุชโูุง ูุงูููู

---

## ๐ ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ

### ูุซุงู 1: ุงุนูุงู ุจุฑูุงูู ุงูุชุฎุงุจุงุช

```
๐ข ุจุฑูุงููโูุง ุงูุชุฎุงุจุงุช ูู:

โ ฺฉุงูุด 50% ูุฒูู ุญููโูููู ุนููู
โ ุงูุฒุงุด 30% ุจูุฏุฌู ุขููุฒุด
โ ุงุฌุงุฏ 10,000 ุดุบู ุฌุฏุฏ

๐ณ๏ธ ุฑุฃ ุดูุงุ ุขูุฏู ูุงุณุช!

#ุงูุชุฎุงุจุงุช2025 #ุจุฑูุงูู_ุนููุงุช
```

### ูุซุงู 2: ุฏุนูุช ุจู ุณุชุงุฏ ุงูุชุฎุงุจุงุช

```
๐ ุฏุนูุช ุจู ุจุงุฒุฏุฏ ุงุฒ ุณุชุงุฏ

๐ ุชุงุฑุฎ: ุฌูุนู 20 ุขุจุงู
โฐ ุณุงุนุช: 16:00 - 20:00
๐ข ุขุฏุฑุณ: ูุฏุงู ุขุฒุงุฏุ ุฎุงุจุงู ุงูููุงุจ

โ ูพุฐุฑุง + ุฌูุณู ูพุฑุณุด ู ูพุงุณุฎ

๐ฅ ููุชุธุฑ ุฏุฏุงุฑุชุงู ูุณุชู!
```

### ูุซุงู 3: ุขูุงุฑ ูพุดุฑูุช ฺฉููพู

```
๐ ฺฏุฒุงุฑุด ููุชฺฏ ฺฉููพู:

๐ฅ ุงุนุถุง ฺฉุงูุงู: 12,500 ููุฑ (+15%)
๐ณ๏ธ ุชุนูุฏ ุฑุฃ: 8,300 ููุฑ
๐ข ุณุชุงุฏูุง ูุนุงู: 25 ูุฑฺฉุฒ
๐ ุชูุงุณโูุง ููุชู: 1,200

๐ ุจุง ูู ูพุฑูุฒู!
```

---

## ๐ ูพุดุชุจุงู

**ุชู ูู:**
- ๐ง Email: support@election-system.com
- ๐ฌ Telegram: @ElectionSupport
- ๐ฑ ุชููู: 021-1234-5678

**ุณุงุนุงุช ูพุดุชุจุงู:**
- ุดูุจู ุชุง ฺูุงุฑุดูุจู: 9:00 - 18:00
- ูพูุฌโุดูุจู: 9:00 - 13:00

---

## ๐ ุชุจุฑฺฉ!

ุณุณุชู ูุฏุฑุช ฺฉุงูุงู ู ุฒูุงูโุจูุฏ ูพุณุช ุดูุง ุขูุงุฏู ุงุณุช! ๐

**ูฺฉุงุช ูพุงุงู:**
1. โ ููุดู ูพุณุชโูุง ุฑุง ูุจู ุงุฒ ุงุฑุณุงู Preview ฺฉูุฏ
2. โ ุงุฒ Scheduler ุจุฑุง ุฒูุงูโุจูุฏ ุงุณุชูุงุฏู ฺฉูุฏ
3. โ ุขูุงุฑ ฺฉุงูุงู ุฑุง ููุธู ุจุฑุฑุณ ฺฉูุฏ
4. โ ุจุง ูุฎุงุทุจุงู ุฎูุฏ ุชุนุงูู ุฏุงุดุชู ุจุงุดุฏ

**ูููู ุจุงุดุฏ!** ๐ฏ
