# ๐ซ ุณุณุชู ุชฺฉุช ู ูพุฑุฏุงุฎุช ุฏุณุช

## ุฎูุงุตู ุณุฑุน

ุงู ุณุณุชู ุจู ฺฉุงูุฏุฏูุง ุงุฌุงุฒู ูโุฏูุฏ ูพููโูุง ุฑุง ุจุง ูพุฑุฏุงุฎุช ุฏุณุช (ฺฉุงุฑุช ุจู ฺฉุงุฑุช ุง ุดุจุง) ุฎุฑุฏุงุฑ ฺฉููุฏ. ูุฑุขูุฏ:

```
ฺฉุงูุฏุฏ โ ุฎุฑุฏ โ ุขูพููุฏ ูุด โ ุงุฏูู โ ุชุงุฏ โ ูุนุงูโุณุงุฒ ุฎูุฏฺฉุงุฑ ูพูู
```

## ๐ ุดุฑูุน ุณุฑุน

### 1. Migration ุฏุชุงุจุณ

```bash
python scripts/init_db.py
```

### 2. ุงุฌุงุฏ ุฏุงุฏูโูุง ููููู (ุงุฎุชุงุฑ)

```bash
python test_tickets.py create
```

### 3. ุงุฌุฑุง ูพููโูุง

```bash
# ูพูู ุงุฏูู (ูพูุฑุช 5000)
python admin_panel/app.py

# ูพูู ฺฉุงูุฏุฏ (ูพูุฑุช 5001)
python candidate_panel/app.py
```

## ๐ ููฺฉโูุง ููู

| ุจุฎุด | URL | ุชูุถุญ |
|-----|-----|-------|
| ุฎุฑุฏ ูพูู | `http://localhost:5001/plans` | ูุณุช ูพููโูุง ุจุง ุฏฺฉูู ุฎุฑุฏ |
| ุชฺฉุชโูุง ูู | `http://localhost:5001/my-tickets` | ูุดุงูุฏู ูุถุนุช ุชฺฉุชโูุง |
| ูุฏุฑุช ุชฺฉุชโูุง | `http://localhost:5000/tickets` | ูพูู ุงุฏูู ุจุฑุง ุชุงุฏ/ุฑุฏ |

## ๐ ูุงูโูุง ุงุตู

```
database/models.py           # ูุฏูโูุง Ticket ู Payment
candidate_panel/app.py       # Route ูุง /plans/purchase ู /my-tickets
admin_panel/app.py           # Route ูุง /tickets ู ุชุงุฏ/ุฑุฏ
templates/candidate/
  โโโ purchase_plan.html     # ุตูุญู ุฎุฑุฏ ุจุง ุขูพููุฏ ูุด
  โโโ my_tickets.html        # ูุณุช ุชฺฉุชโูุง ฺฉุงูุฏุฏ
templates/admin/
  โโโ tickets.html           # ูพูู ูุฏุฑุช ุชฺฉุชโูุง
```

## ๐ฏ ูฺุฑูุง ฺฉูุฏ

โ ุฎุฑุฏ ูพูู ุจุง ฺฉุงุฑุช ุจู ฺฉุงุฑุช ุง ุดุจุง  
โ ุขูพููุฏ ูุด ูุงุฑุฒ  
โ ุณุงุฎุช ุฎูุฏฺฉุงุฑ ุดูุงุฑู ุชฺฉุช (TK-1001, TK-1002, ...)  
โ ูพูู ุงุฏูู ุจุง ููุชุฑ ู ุขูุงุฑ  
โ ูุนุงูโุณุงุฒ ุฎูุฏฺฉุงุฑ ูพูู ุจุนุฏ ุงุฒ ุชุงุฏ  
โ ููุงุด Timeline ุจุฑุง ูุฑ ุชฺฉุช  
โ ูพุดโููุงุด ูุด ุฏุฑ ูุฑ ุฏู ูพูู  

## ๐งช ุชุณุช ุณุฑุน

```bash
# ุงุฌุงุฏ 4 ุชฺฉุช ููููู
python test_tickets.py create

# ูุดุงูุฏู ุขูุงุฑ
python test_tickets.py stats

# ูพุงฺฉ ฺฉุฑุฏู ุชุณุชโูุง
python test_tickets.py clear
```

## ๐ ูุณุชูุฏุงุช ฺฉุงูู

ุจุฑุง ุงุทูุงุนุงุช ฺฉุงููุ ูุณุชูุฏ ุฒุฑ ุฑุง ูุทุงูุนู ฺฉูุฏ:

๐ [docs/TICKET_PAYMENT_GUIDE.md](docs/TICKET_PAYMENT_GUIDE.md)

## โ๏ธ ุชูุธูุงุช

### ุงุทูุงุนุงุช ุจุงูฺฉ (ูุงุจู ุชุบุฑ ุฏุฑ `purchase_plan.html`)

```javascript
// ุดูุงุฑู ฺฉุงุฑุช
const CARD_NUMBER = "6037-9971-1234-5678";

// ุดูุงุฑู ุดุจุง
const SHEBA_NUMBER = "IR120170000000123456789001";
```

### ูุญู ุฐุฎุฑู ูุดโูุง

```
uploads/receipts/
```

ุญุชูุง ุงู ูพูุดู ุจุงุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ.

## ๐ ุนุจโุงุจ

### ูุด ุขูพููุฏ ููโุดูุฏุ
- ูพูุดู `uploads/receipts/` ุจุงุฏ ููุฌูุฏ ุจุงุดุฏ
- ุญุฌู ูุงู ุจุงุฏ ฺฉูุชุฑ ุงุฒ 16MB ุจุงุดุฏ

### ูพูู ูุนุงู ููโุดูุฏุ
- ุชฺฉุช ุจุงุฏ ููุน `purchase` ุจุงุดุฏ
- `plan_id` ุจุงุฏ ุฏุฑุณุช ุจุงุดุฏ
- ูุงฺฏโูุง ฺฉูุณูู ุฑุง ฺฺฉ ฺฉูุฏ

### ูุด ููุงุด ุฏุงุฏู ููโุดูุฏ?
- ูุณุฑ ูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- Static file serving ุฑุง ฺฺฉ ฺฉูุฏ

## ๐ ูุฏูโูุง ุฏุชุงุจุณ

### Ticket
- `ticket_number`: ุดูุงุฑู ฺฉุชุง (TK-XXXX)
- `status`: pending, approved, rejected, closed
- `ticket_type`: purchase, support
- `receipt_image`: ูุณุฑ ูุด

### Payment
- `status`: pending, verified, failed
- `plan_activated`: Boolean
- `activation_date`, `expiry_date`: ุชุงุฑุฎโูุง ูุนุงูโุณุงุฒ

## ๐จ UI/UX

- ุทุฑุงุญ ูุฏุฑู ู ุฑุณูพุงูุณู
- Drag & Drop ุจุฑุง ุขูพููุฏ
- ฺฉูพ ุงุทูุงุนุงุช ุจุง ฺฉ ฺฉูฺฉ
- Modal ุจุฑุง ุชุงุฏ/ุฑุฏ
- Badge ุฑูฺฏ ุจุฑุง ูุถุนุชโูุง
- Toast ุจุฑุง ููุชูฺฉุดูโูุง

---

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ุณุณุชู ูุฏุฑุช ฺฉุงูุฏุฏูุง**
