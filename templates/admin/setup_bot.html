<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ุฑุงูโุงูุฏุงุฒ ุจุงุช - ูพูู ูุฏุฑุช</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/modern-admin.css') }}">
    <script src="{{ url_for('static', filename='js/persian-to-english-numbers.js') }}"></script>
</head>
<body>
<div class="dashboard-wrapper">
<aside class="sidebar">
<div class="sidebar-header">
<div class="logo"><i class="fas fa-vote-yea" style="font-size:40px;"></i></div>
<h2>ูพูู ูุฏุฑุช</h2>
<p>ุณุงูุงูู ุจุงุชโูุง ุงูุชุฎุงุจุงุช</p>
</div>
<nav class="sidebar-menu">
<a href="{{ url_for('dashboard') }}" class="menu-item"><i class="fas fa-chart-line"></i><span>ุฏุงุดุจูุฑุฏ</span></a>
<a href="{{ url_for('candidates') }}" class="menu-item active"><i class="fas fa-users"></i><span>ููุงูุฏูโูุง</span></a>
<a href="{{ url_for('plans') }}" class="menu-item"><i class="fas fa-money-bill-wave"></i><span>ูพููโูุง</span></a>
<a href="{{ url_for('logout') }}" class="menu-item" style="margin-top:auto;"><i class="fas fa-sign-out-alt"></i><span>ุฎุฑูุฌ</span></a>
</nav>
</aside>
<div class="main-content">
<div class="topbar">
<div class="topbar-left"><h1>ุฑุงูโุงูุฏุงุฒ ุจุงุช: {{ candidate.full_name }}</h1></div>
<div class="topbar-right"><div class="user-profile"><i class="fas fa-user-circle"></i><span>{{ session.admin_username }}</span></div></div>
</div>
<div class="content-area">
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<div class="alert alert-{{ category }}">{{ message }}</div>
{% endfor %}
{% endif %}
{% endwith %}
<div class="card" style="border:none;overflow:hidden;">
<div class="card-header" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;border:none;">
<h2 style="margin:0;font-size:24px;"><i class="fas fa-robot" style="font-size:28px;margin-left:10px;"></i> ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ุจุงุช ุชูฺฏุฑุงู</h2>
<p style="margin:10px 0 0 0;opacity:0.9;font-size:14px;">ูุฑุงุญู ุณุงุฏู ุจุฑุง ุงุฌุงุฏ ุจุงุช ุงุฎุชุตุงุต ุดูุง</p>
</div>
<div class="card-body" style="padding:0;">
<div style="padding:30px;background:#f8fafc;">
<div style="display:grid;gap:20px;">
<div style="background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-right:4px solid #667eea;transition:transform 0.3s,box-shadow 0.3s;" onmouseover="this.style.transform='translateX(-5px)';this.style.boxShadow='0 4px 16px rgba(0,0,0,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 2px 8px rgba(0,0,0,0.08)';">
<div style="display:flex;align-items:center;margin-bottom:15px;">
<div style="width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;flex-shrink:0;">1</div>
<h3 style="margin:0 15px;color:#1e293b;font-size:18px;font-weight:600;">ูุงุฑุฏ ุชูฺฏุฑุงู ุดูุฏ</h3>
</div>
<p style="margin:0 0 0 55px;color:#64748b;line-height:1.8;font-size:15px;">ุฏุฑ ุชูฺฏุฑุงู ุจู <a href="https://t.me/BotFather" target="_blank" style="color:#667eea;font-weight:600;text-decoration:none;border-bottom:2px solid #667eea;transition:color 0.3s;">@BotFather</a> ุจุฑูุฏ ู ฺฏูุชฺฏู ุฑุง ุดุฑูุน ฺฉูุฏ.</p>
</div>
<div style="background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-right:4px solid #764ba2;transition:transform 0.3s,box-shadow 0.3s;" onmouseover="this.style.transform='translateX(-5px)';this.style.boxShadow='0 4px 16px rgba(0,0,0,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 2px 8px rgba(0,0,0,0.08)';">
<div style="display:flex;align-items:center;margin-bottom:15px;">
<div style="width:40px;height:40px;background:linear-gradient(135deg,#764ba2,#667eea);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;flex-shrink:0;">2</div>
<h3 style="margin:0 15px;color:#1e293b;font-size:18px;font-weight:600;">ุงุฑุณุงู ุฏุณุชูุฑ ุงุฌุงุฏ</h3>
</div>
<p style="margin:0 0 10px 55px;color:#64748b;line-height:1.8;font-size:15px;">ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฑุณุงู ฺฉูุฏ:</p>
<div style="margin:0 0 0 55px;background:#f1f5f9;padding:12px 16px;border-radius:8px;border:1px solid #e2e8f0;font-family:monospace;font-size:16px;color:#475569;display:inline-block;">/newbot</div>
</div>
<div style="background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-right:4px solid #667eea;transition:transform 0.3s,box-shadow 0.3s;" onmouseover="this.style.transform='translateX(-5px)';this.style.boxShadow='0 4px 16px rgba(0,0,0,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 2px 8px rgba(0,0,0,0.08)';">
<div style="display:flex;align-items:center;margin-bottom:15px;">
<div style="width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;flex-shrink:0;">3</div>
<h3 style="margin:0 15px;color:#1e293b;font-size:18px;font-weight:600;">ุงูุชุฎุงุจ ูุงู ุจุงุช</h3>
</div>
<p style="margin:0 0 0 55px;color:#64748b;line-height:1.8;font-size:15px;">ูุงู ูุงุฑุณ ุจุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ <span style="background:#dbeafe;padding:3px 8px;border-radius:4px;font-size:13px;color:#0369a1;font-weight:500;">ูุซุงู: ุจุงุช ุนู ุงุญูุฏ</span></p>
</div>
<div style="background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-right:4px solid #764ba2;transition:transform 0.3s,box-shadow 0.3s;" onmouseover="this.style.transform='translateX(-5px)';this.style.boxShadow='0 4px 16px rgba(0,0,0,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 2px 8px rgba(0,0,0,0.08)';">
<div style="display:flex;align-items:center;margin-bottom:15px;">
<div style="width:40px;height:40px;background:linear-gradient(135deg,#764ba2,#667eea);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;flex-shrink:0;">4</div>
<h3 style="margin:0 15px;color:#1e293b;font-size:18px;font-weight:600;">ุชุนู ูุงู ฺฉุงุฑุจุฑ</h3>
</div>
<p style="margin:0 0 0 55px;color:#64748b;line-height:1.8;font-size:15px;">Username ุงูฺฏูุณ ฺฉู ุจุงุฏ ุจู <span style="background:#fef3c7;padding:3px 8px;border-radius:4px;font-size:13px;color:#92400e;font-weight:600;">bot_</span> ุฎุชู ุดูุฏ <span style="background:#dbeafe;padding:3px 8px;border-radius:4px;font-size:13px;color:#0369a1;font-weight:500;">ูุซุงู: ali_ahmadi_bot</span></p>
</div>
<div style="background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-right:4px solid #10b981;transition:transform 0.3s,box-shadow 0.3s;" onmouseover="this.style.transform='translateX(-5px)';this.style.boxShadow='0 4px 16px rgba(0,0,0,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 2px 8px rgba(0,0,0,0.08)';">
<div style="display:flex;align-items:center;margin-bottom:15px;">
<div style="width:40px;height:40px;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;flex-shrink:0;">โ</div>
<h3 style="margin:0 15px;color:#1e293b;font-size:18px;font-weight:600;">ุฏุฑุงูุช ุชูฺฉู</h3>
</div>
<p style="margin:0 0 0 55px;color:#64748b;line-height:1.8;font-size:15px;">ุชูฺฉู ุฏุฑุงูุช ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฏุฑ ูุฑู ุฒุฑ ูุงุฑุฏ ฺฉูุฏ. ุงู ุชูฺฉู ฺฉูุฏ ุฏุณุชุฑุณ ุจู ุจุงุช ุดูุงุณุช ๐</p>
</div>
</div>
</div>
</div>
</div>
<div class="card">
<div class="card-header"><h2><i class="fas fa-cog"></i> ุงุทูุงุนุงุช ุจุงุช</h2></div>
<div class="card-body">
{% if candidate.bot_instance %}
<div style="background:#dcfce7;border:2px solid #16a34a;border-radius:12px;padding:20px;margin-bottom:30px;">
<div style="display:flex;align-items:center;gap:12px;margin-bottom:15px;">
<i class="fas fa-check-circle" style="font-size:32px;color:#16a34a;"></i>
<div>
<h3 style="margin:0;color:#166534;font-size:18px;">ุจุงุช ูุนุงู ุงุณุช โ</h3>
<p style="margin:5px 0 0;color:#15803d;font-size:14px;">ุจุงุช ูุจูุงู ุฑุงูโุงูุฏุงุฒ ุดุฏู ุงุณุช. ูโุชูุงูุฏ ุงุทูุงุนุงุช ุฑุง ูุฑุงุด ฺฉูุฏ.</p>
</div>
</div>
<div style="background:white;border-radius:8px;padding:15px;margin-top:15px;">
<p style="margin:0 0 8px;color:#475569;"><strong>ูุฒุฑูู:</strong> <a href="https://t.me/{{ candidate.bot_instance.bot_username }}" target="_blank" style="color:#667eea;text-decoration:none;">@{{ candidate.bot_instance.bot_username }}</a></p>
<p style="margin:0 0 8px;color:#475569;"><strong>ุชูฺฉู:</strong> <span style="font-family:monospace;background:#f1f5f9;padding:4px 8px;border-radius:4px;font-size:13px;">{{ candidate.bot_instance.bot_token[:20] }}...</span></p>
<p style="margin:0;color:#475569;"><strong>ูุถุนุช:</strong> <span style="background:{% if candidate.bot_instance.is_active %}#dcfce7;color:#16a34a{% else %}#fee2e2;color:#dc2626{% endif %};padding:4px 12px;border-radius:6px;font-size:13px;font-weight:600;">{% if candidate.bot_instance.is_active %}ูุนุงู{% else %}ุบุฑูุนุงู{% endif %}</span></p>
</div>
</div>
{% else %}
<div style="background:#fef3c7;border:2px solid #f59e0b;border-radius:12px;padding:20px;margin-bottom:30px;">
<div style="display:flex;align-items:center;gap:12px;">
<i class="fas fa-exclamation-triangle" style="font-size:32px;color:#d97706;"></i>
<div>
<h3 style="margin:0;color:#92400e;font-size:18px;">ูููุฒ ุจุงุช ุฑุงูโุงูุฏุงุฒ ูุดุฏู</h3>
<p style="margin:5px 0 0;color:#b45309;font-size:14px;">ูุทูุงู ุงุทูุงุนุงุช ุจุงุช ุฑุง ุฏุฑ ูุฑู ุฒุฑ ูุงุฑุฏ ฺฉูุฏ ุชุง ุจุงุช ูุนุงู ุดูุฏ.</p>
</div>
</div>
</div>
{% endif %}
<form method="POST" class="form-modern">
<div class="form-group">
<label for="bot_token"><i class="fas fa-key"></i> ุชูฺฉู ุจุงุช *</label>
<input type="text" id="bot_token" name="bot_token" class="form-control" value="{{ candidate.bot_instance.bot_token if candidate.bot_instance else '' }}" placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz" required style="font-family:monospace;direction:ltr;text-align:left;">
<small class="form-hint">ุชูฺฉู ุฏุฑุงูุช ุงุฒ BotFather</small>
</div>
<div class="form-group">
<label for="bot_username"><i class="fas fa-at"></i> ูุงู ฺฉุงุฑุจุฑ ุจุงุช *</label>
<input type="text" id="bot_username" name="bot_username" class="form-control" value="{{ candidate.bot_instance.bot_username if candidate.bot_instance else '' }}" placeholder="ali_ahmadi_bot" required style="direction:ltr;text-align:left;">
<small class="form-hint">ุจุงุฏ ุจู _bot ุฎุชู ุดูุฏ</small>
</div>
<div class="form-actions">
<button type="submit" class="btn btn-success"><i class="fas fa-{% if candidate.bot_instance %}save{% else %}rocket{% endif %}"></i> {% if candidate.bot_instance %}ุจูโุฑูุฒุฑุณุงู ุจุงุช{% else %}ุฑุงูโุงูุฏุงุฒ ุจุงุช{% endif %}</button>
<a href="{{ url_for('candidates') }}" class="btn btn-secondary"><i class="fas fa-arrow-right"></i> ุจุงุฒฺฏุดุช</a>
</div>
</form>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
