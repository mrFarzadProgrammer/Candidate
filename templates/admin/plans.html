<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مدیریت پلنها</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modern-admin.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-wrapper">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo"><i class="fas fa-vote-yea"></i></div>
                <h2>پنل مدیریت</h2>
                <p>سامانه باتهای انتخاباتی</p>
            </div>
            <nav class="sidebar-menu">
                <a href="{{ url_for('dashboard') }}" class="menu-item"><i class="fas fa-chart-line"></i><span>داشبورد</span></a>
                <a href="{{ url_for('candidates') }}" class="menu-item"><i class="fas fa-users"></i><span>نمایندهها</span></a>
                <a href="{{ url_for('plans') }}" class="menu-item active"><i class="fas fa-tags"></i><span>پلنها</span></a>
                <a href="{{ url_for('logout') }}" class="menu-item"><i class="fas fa-sign-out-alt"></i><span>خروج</span></a>
            </nav>
        </aside>
        <main class="main-content">
            <header class="topbar">
                <div class="topbar-left">
                    <button class="sidebar-toggle"><i class="fas fa-bars"></i></button>
                    <h1>مدیریت پلنها</h1>
                </div>
                <div class="topbar-right">
                    <div class="user-profile"><i class="fas fa-user-circle"></i><span>مدیر سیستم</span></div>
                </div>
            </header>
            <div class="content-area">
                <div class="page-header">
                    <h2><i class="fas fa-tags"></i> پلنهای اشتراک</h2>
                    <button class="btn btn-primary" onclick="alert('این قابلیت به زودی اضافه خواهد شد')"><i class="fas fa-plus"></i> افزودن پلن</button>
                </div>
                <div class="plans-grid">
                    {%for plan in plans%}
                    <div class="plan-card">
                        <div class="plan-header">
                            <div class="plan-icon"><i class="fas fa-star"></i></div>
                            <h3>{{plan.name}}</h3>
                        </div>
                        <div class="plan-price">
                            <span class="price-amount">{{'{:,}'.format(plan.price)}}</span>
                            <span class="price-currency">تومان</span>
                        </div>
                        <div class="plan-duration"><i class="fas fa-calendar-alt"></i><span>{{plan.duration_days}} روز</span></div>
                        <div class="plan-description"><p>{{plan.description}}</p></div>
                        <div class="plan-actions">
                            <button class="btn btn-sm btn-warning" onclick="alert('ویرایش پلن')"><i class="fas fa-edit"></i> ویرایش</button>
                            <button class="btn btn-sm btn-danger" onclick="if(confirm('حذف'))alert('حذف شد')"><i class="fas fa-trash"></i> حذف</button>
                        </div>
                    </div>
                    {%endfor%}
                </div>
                {%if not plans%}
                <div class="empty-state">
                    <div class="empty-icon"><i class="fas fa-tags"></i></div>
                    <h3>هیچ پلنی تعریف نشده</h3>
                    <p>برای شروع اولین پلن اشتراک را اضافه کنید</p>
                    <button class="btn btn-primary" onclick="alert('به زودی')"><i class="fas fa-plus"></i> افزودن پلن</button>
                </div>
                {%endif%}
            </div>
        </main>
    </div>
    <script>
        document.querySelector('.sidebar-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('active');
        });
    </script>
</body>
</html>