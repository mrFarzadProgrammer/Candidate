<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฌุฏูู ุงูุชุงุฒุงุช - ูพูู ููุงูุฏู</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modern-admin.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/fontawesome/all.min.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-user-tie" style="font-size: 40px;"></i>
                </div>
                <h2>ูพูู ููุงูุฏู</h2>
                <p>{{ session.get('candidate_name', 'ูุงูุฒุฏ') }}</p>
            </div>
            
            <nav class="sidebar-menu">
                <a href="{{ url_for('dashboard') }}" class="menu-item">
                    <i class="fas fa-home"></i>
                    <span>ุฏุงุดุจูุฑุฏ</span>
                </a>
                <a href="{{ url_for('contributions') }}" class="menu-item">
                    <i class="fas fa-users"></i>
                    <span>ูุดุงุฑฺฉุช ุดูุฑููุฏ</span>
                </a>
                <a href="{{ url_for('leaderboard') }}" class="menu-item active">
                    <i class="fas fa-trophy"></i>
                    <span>ุฌุฏูู ุงูุชุงุฒุงุช</span>
                </a>
                <a href="{{ url_for('logout') }}" class="menu-item" style="margin-top: auto;">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>ุฎุฑูุฌ</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1>๐ ุฌุฏูู ุงูุชุงุฒุงุช</h1>
            </div>

<div class="container-fluid py-4" dir="rtl">
    
    <div class="row mb-4">
        <div class="col-md-12">
            <h3 class="mb-3">๐ ุฌุฏูู ุงูุชุงุฒุงุช ุดูุฑููุฏุงู</h3>
            <p class="text-muted">ุดูุฑููุฏุงู ูุนุงู ู ุจุฑุชุฑ ุฏุฑ ูุดุงุฑฺฉุช</p>
        </div>
    </div>
    
    <div class="card">
        <div class="card-body">
            {% if top_citizens %}
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead class="table-light">
                        <tr>
                            <th class="text-center">ุฑุชุจู</th>
                            <th>ูุงู</th>
                            <th class="text-center">ุณุทุญ</th>
                            <th class="text-center">ุงูุชุงุฒ</th>
                            <th class="text-center">ูุดุงุฑฺฉุชโูุง</th>
                            <th class="text-center">ุฑุงโูุง</th>
                            <th class="text-center">ูุธุฑุงุช</th>
                            <th>ูุดุงูโูุง</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for citizen in top_citizens %}
                        <tr>
                            <td class="text-center">
                                {% if loop.index == 1 %}
                                <span class="fs-4">๐ฅ</span>
                                {% elif loop.index == 2 %}
                                <span class="fs-4">๐ฅ</span>
                                {% elif loop.index == 3 %}
                                <span class="fs-4">๐ฅ</span>
                                {% else %}
                                <strong>{{ loop.index }}</strong>
                                {% endif %}
                            </td>
                            <td>
                                <div>
                                    <strong>{{ citizen.full_name }}</strong>
                                    {% if citizen.username %}
                                    <br><small class="text-muted">@{{ citizen.username }}</small>
                                    {% endif %}
                                </div>
                            </td>
                            <td class="text-center">
                                <span class="badge bg-primary fs-6">
                                    {% if citizen.level == 1 %}๐ฑ
                                    {% elif citizen.level == 2 %}๐ฟ
                                    {% elif citizen.level == 3 %}๐
                                    {% elif citizen.level == 4 %}๐ณ
                                    {% elif citizen.level == 5 %}โญ
                                    {% elif citizen.level == 6 %}๐
                                    {% elif citizen.level == 7 %}๐ซ
                                    {% elif citizen.level == 8 %}โจ
                                    {% elif citizen.level >= 9 %}๐
                                    {% endif %}
                                    ุณุทุญ {{ citizen.level }}
                                </span>
                            </td>
                            <td class="text-center">
                                <strong class="text-success">{{ citizen.total_points }}</strong>
                            </td>
                            <td class="text-center">
                                <span class="badge bg-info">{{ citizen.contributions_count }}</span>
                            </td>
                            <td class="text-center">
                                <span class="badge bg-warning">{{ citizen.votes_given }}</span>
                            </td>
                            <td class="text-center">
                                <span class="badge bg-secondary">{{ citizen.comments_count }}</span>
                            </td>
                            <td>
                                {% if citizen.badges %}
                                    {% for badge in citizen.badges[:5] %}
                                        {% if badge == 'beginner' %}
                                        <span title="ุชุงุฒูโูุงุฑุฏ">๐</span>
                                        {% elif badge == 'contributor' %}
                                        <span title="ูุดุงุฑฺฉุชโฺฉููุฏู">๐ก</span>
                                        {% elif badge == 'active_voter' %}
                                        <span title="ุฑุงโุฏููุฏู ูุนุงู">๐ณ๏ธ</span>
                                        {% elif badge == 'discusser' %}
                                        <span title="ฺฏูุชฺฏูฺฏุฑ">๐ฌ</span>
                                        {% elif badge == 'star' %}
                                        <span title="ุณุชุงุฑู">โญ</span>
                                        {% elif badge == 'champion' %}
                                        <span title="ููุฑูุงู">๐</span>
                                        {% endif %}
                                    {% endfor %}
                                    {% if citizen.badges|length > 5 %}
                                    <small class="text-muted">+{{ citizen.badges|length - 5 }}</small>
                                    {% endif %}
                                {% else %}
                                    <span class="text-muted">-</span>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="alert alert-info text-center">
                <h5>ูููุฒ ุดูุฑููุฏ ุฏุฑ ุณุณุชู ุซุจุชโูุงู ูฺฉุฑุฏู ุงุณุช</h5>
                <p>ุจุง ุดุฑูุน ูุดุงุฑฺฉุช ุดูุฑููุฏุงูุ ุงู ุฌุฏูู ูพุฑ ุฎูุงูุฏ ุดุฏ.</p>
            </div>
            {% endif %}
        </div>
    </div>
    
    <!-- ุฑุงูููุง -->
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h6 class="mb-0">๐ ุณุทูุญ</h6>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li>๐ฑ ุณุทุญ 1: 0-49 ุงูุชุงุฒ</li>
                        <li>๐ฟ ุณุทุญ 2: 50-149 ุงูุชุงุฒ</li>
                        <li>๐ ุณุทุญ 3: 150-299 ุงูุชุงุฒ</li>
                        <li>๐ณ ุณุทุญ 4: 300-499 ุงูุชุงุฒ</li>
                        <li>โญ ุณุทุญ 5: 500-999 ุงูุชุงุฒ</li>
                        <li>๐ ุณุทุญ 6: 1000-1999 ุงูุชุงุฒ</li>
                        <li>๐ซ ุณุทุญ 7: 2000-4999 ุงูุชุงุฒ</li>
                        <li>โจ ุณุทุญ 8: 5000-9999 ุงูุชุงุฒ</li>
                        <li>๐ ุณุทุญ 9: 10000+ ุงูุชุงุฒ</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-warning">
                    <h6 class="mb-0">๐ฏ ูุญูู ฺฉุณุจ ุงูุชุงุฒ</h6>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li>๐ก ุงุฑุณุงู ุงุฏู/ูุดฺฉู: <strong>10 ุงูุชุงุฒ</strong></li>
                        <li>๐ ุฑุง ุฏุงุฏู: <strong>1 ุงูุชุงุฒ</strong></li>
                        <li>๐ฌ ุงุฑุณุงู ูุธุฑ: <strong>2 ุงูุชุงุฒ</strong></li>
                        <li>โ ุชุงุฏ ุงุฏู: <strong>50 ุงูุชุงุฒ</strong></li>
                        <li>๐ ุงุฏู ุฏุฑ ุญุงู ุงูุฌุงู: <strong>75 ุงูุชุงุฒ</strong></li>
                        <li>โ๏ธ ุงุฌุฑุง ุงุฏู: <strong>100 ุงูุชุงุฒ</strong></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
</div>

<style>
.table td, .table th {
    vertical-align: middle;
}

.fs-4 {
    font-size: 1.5rem;
}

.badge.fs-6 {
    font-size: 0.9rem;
}
</style>

        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
